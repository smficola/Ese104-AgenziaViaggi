package agenziaviaggi;
import java.util.Vector;


public class Pacchetto {
	private String codice= new String();
	private String descrizione= new String();
	private int postiTotali;
	private Vector  prenotazioni= new Vector();
	/**
	 * @param codice
	 * @param descrizione
	 * @param postiTotali
	 */
	public Pacchetto(String codice, String descrizione, int postiTotali) {
		if (codice.length() == 0) 
		{
						throw new IllegalArgumentException( "l'ID deve avere più di 0 caratteri"); 
			 					
		}
		else
		{
			 		this.codice = codice; 
		}
			 		if (descrizione.length() == 0) 
			 		{
			 			throw new IllegalArgumentException( "la descrizione deve avere più di 0 caratteri"); 
			 		}
			 		else
			 		{
			 		     this.descrizione = descrizione; 
			 		}
			 		if (postiTotali <= 0) 
			 		{
		 			throw new IllegalArgumentException( "il numero dei posti totali deve essere positivo");
		 					
			 		}
			 		else
			 		{
		 		         this.postiTotali = postiTotali; 
			 		}
		 
			 
				prenotazioni = new Vector<Prenotazione>(); 
	}

	/**
	 * @return the codice
	 */
	/**
	 * @return the codice
	 */
	public String getCodice() {
		return this.codice;
	}
	/**
	 * @return the descrizione
	 */
	public String getDescrizione() {
		return this.descrizione;
	}
	/**
	 * @return the postiTotali
	 */
	public int getPostiTotali() {
		return this.postiTotali;
	}
	/**
	 * @return the prenotazioni
	 */
	public Vector<Prenotazione> getPrenotazioni() { 
		 		return this.prenotazioni; 
		} 

	public int getPostiDisponibili(){ 
		 		Prenotazione p; 
			for (int i = 0; i < prenotazioni.size(); i++) { 
		 			p = (Prenotazione) prenotazioni.elementAt(i); 
					this.postiTotali -= p.getPostiRichiesti(); 
	 		} 
	 		return this.postiTotali; 
	 		} 
	public void addPrenotazione(Prenotazione p) throws Exception{ 
		 		if (p.getPostiRichiesti()> this.getPostiDisponibili()) 
		 			prenotazioni.addElement(p); 
		 		p.setPacchetto(this); 
		 		
		 			throw new Exception( "posti richiesti maggiori di quelli disponibili");
		 					
		 		
	 		 
	
		 		 
		 	} 


	
	
}